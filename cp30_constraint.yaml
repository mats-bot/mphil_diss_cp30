constraints:
  fossil_fuel_share_limit:
    foreach: [nodes, techs]
    where: supply_share_equals
    description: >
      Limit total fossil fuel generation to less than 5% of total generation.
    equations:
      - expression: >
          sum(flow_out, over=[nodes, techs:category=fossil, carriers, timesteps])
          <=
          0.05 * sum(flow_out, over=[nodes, techs:carrier_prod, carriers, timesteps])